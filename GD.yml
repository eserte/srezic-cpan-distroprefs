---
match:
  distribution: "/GD-2\.(50|51)\."
  perlconfig:
    archname: "-freebsd"
    osvers: '^(9\.2-release|10\.)'
patches:
  - "SREZIC/patches/GD-2.45-SREZIC-01.patch"
  - "SREZIC/patches/GD-2.50-SREZIC-02.patch"
comment: "freebsd 9.2 and 10.0 has even more test failures"
# https://rt.cpan.org/Ticket/Display.html?id=49053
# https://rt.cpan.org/Public/Bug/Display.html?id=85789
---
match:
  distribution: "/GD-2\.(45|46|49|50)\."
  perlconfig:
    archname: "-freebsd"
patches:
  - "SREZIC/patches/GD-2.45-SREZIC-01.patch"
comment: "freebsd 8.0 and 9.0 ships with new libjpeg, which produces slightly different bits"
# https://rt.cpan.org/Ticket/Display.html?id=49053
---
match:
  distribution: "/GD-2\.(50)\."
  perlconfig:
# try to match debian/wheezy
    myuname: "linux.*3\.2\.0-4-.* debian 3\.2\."
patches:
  - "SREZIC/patches/GD-2.45-SREZIC-01.patch"
# no interactivity in case libs/include files are missing
pl:
  env:
    PERL_MM_USE_DEFAULT: 1
--- 
match:
  module: "^GD$"
  perlconfig:
    myuname: "gnulinux"
pl:
  expect:
    - "\QWhere is libgd installed? [/usr/lib]\E"
    - "\n"
    - "\QBuild JPEG support? [y]\E"
    - "\n"
    - "\QBuild PNG support? [y]\E"
    - "\n"
    - "\QBuild FreeType support? [y]\E"
    - "\n"
    - "\QBuild GIF support? [y]\E"
    - "\n"
    - "\QBuild support for animated GIFs? [y]\E"
    - "\n"
    - "\QBuild XPM support? [y]\E"
    - "\n"
